@using WFJ.Models;
@using WFJ.Service.Model;
@model AddEditPlacementsViewModel
@using fieldType = WFJ.Web.Models.Enums.FieldTypes;

@{
    ViewBag.Title = "AddPlacement";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var FieldsGrouped = Model.FormFieldsList.GroupBy(x => x.formSectionID)
                        .Select(x => new
                        {
                            sectionId = x.Key,
                            sectionData = x.GroupBy(a => a.formSectionID).OrderBy(a => a.Key).Select(r => new
                            {
                                rowNo = r.Key,
                                rowData = r.GroupBy(b => b.rowNumber).OrderBy(b => b.Key).AsEnumerable(),
                                sectionHeader = r.Any(b => b.FieldTypeID == (byte)FieldTypes.SectionHeader) ? r.FirstOrDefault(b => b.FieldTypeID == (byte)FieldTypes.SectionHeader).FieldName : null
                            }),
                        }).ToList();

    int Cnt = 0;
    int? userAccess = Model.UserAccess;
    int clientId = Model.ClientId;
    int userType = Model.UserType;
}
<script src="~/vendors/jquery/jquery-3.3.1.min.js"></script>
<main>
    <div class="document-center">
        <div class="container-fluid site-width">
            <!-- START: Breadcrumbs-->

            <div class="row">
                <div class="col-md-5">
                    <h4 class="mb-4">Add Placement</h4>
                </div>
                <div class="col-md-7">
                    <h4 class="mb-4">@Html.Raw(Model.ClientName ?? "&nbsp;")</h4>
                </div>
            </div>

            <div class="row">
                <div class="col-md-5 col-xl-5">

                    <div class="form-group">
                        <button type="button" class="btn btn-secondary">PDF</button>
                    </div>

                    <div class="card mb-4">
                        <div class="card-content">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-lg-6 col-xl-4">
                                        <div class="form-group">
                                            <label>@Model.RequestorName</label>
                                            @Html.DropDownListFor(x => x.Request.Requestor, new SelectList(Model.Requestors, "Value", "Text"), new { @Class = "form-control" })
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-xl-4">
                                        <div class="form-group">
                                            <label>Assigned Atorney</label>
                                            @Html.DropDownListFor(x => x.Request.AssignedAttorney, new SelectList(Model.AssignedAtorneys, "Value", "Text"), new { @Class = "form-control" })
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-xl-4">
                                        <div class="form-group">
                                            <label>Assigned Collector</label>
                                            @Html.DropDownListFor(x => x.Request.AssignedCollectorID, new SelectList(Model.Collectors, "Value", "Text"), new { @Class = "form-control" })
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6 col-xl-4">
                                        <div class="form-group">
                                            <label>Status</label>
                                            @Html.DropDownListFor(x => x.Request.StatusCode, new SelectList(Model.StatusList, "Value", "Text"), new { @Class = "form-control" })
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-xl-4">
                                        <div class="form-group">
                                            <label>Request Date</label>
                                            @Html.TextBoxFor(x => x.Request.RequestDateString, new { @Class = "form-control jdate-picker" })
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-xl-4">
                                        <div class="form-group">
                                            <label>WFJ File Close Date</label>
                                            @Html.TextBoxFor(x => x.Request.CompletionDateString, new { @Class = "form-control jdate-picker" })
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12 col-xl-12">
                                        <div class="form-group">
                                            <span class="status-description"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12 col-xl-12">
                                        <div class="form-group">
                                            <span class="text-danger error-status"></span>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>

                    <form id="placementForm">
                        @Html.HiddenFor(x => x.Request.FormID)
                        @Html.HiddenFor(x => x.Request.ID)

                        @foreach (var section in Model.FormSections)
                        {
                            var ItemsSectionWise = FieldsGrouped.FirstOrDefault(x => x.sectionId == section.formSectionID);
                            if (ItemsSectionWise != null)
                            {
                                var SectionWise = ItemsSectionWise.sectionData;

                                foreach (var sectionData in SectionWise)
                                {
                                    <div class="card mb-4">
                                        <div class="card-content">
                                            @if (sectionData.sectionHeader != null)
                                            {
                                                <div class="card-title">
                                                    <h5 class="p-3">@sectionData.sectionHeader</h5>
                                                </div>
                                            }
                                            <div class="card-body">

                                                @foreach (var row in sectionData.rowData)
                                                {
                                                    <div class="row">

                                                        @foreach (var item in row)
                                                        {
                                                            if (item.FieldTypeID != 0)
                                                            {
                                                                string colClass = item.FieldSize == null ? "col-12" : item.FieldSize.htmlCode;
                                                                string Required = item.Required == 1 ? "required" : "";
                                                                string maxLength = item.Length != null ? "maxlength=" + item.Length : "";
                                                                int? linesLength = item.Length != null && item.Length / 80 > 1 ? item.Length / 80 : null;
                                                                string inputName = "FormFieldsList[" + Cnt + "].FormData.FieldValue";
                                                                string inputValue = item.FormData == null ? null : item.FormData.FieldValue;
                                                                string currencyId = item.FormData == null ? null : Convert.ToString(item.FormData.currencyID);
                                                                var addressData = item.FormAddressData == null ? new FormAddressDataViewModel() : item.FormAddressData;
                                                                var requiredMessage = Html.Raw("data-msg=\"" + item.FieldName + " is required\"");
                                                                var selectHeight = "";
                                                                int accessLevel = Convert.ToInt32(item.AccessLevel);

                                                                var isReadonly = "";
                                                                var isShowDataValue = true;
                                                                var paleYellow = "";

                                                                if (Model.isEditMode)
                                                                {
                                                                    if ((accessLevel == 3 || (accessLevel < userAccess && userType != 1))
                                                                   || (accessLevel == 4 && userType != 1)
                                                                   || (accessLevel == 5 && clientId != 1))
                                                                    {
                                                                        isReadonly = "readonly";
                                                                        isShowDataValue = true;
                                                                    }
                                                                    else if ((accessLevel == 5 || accessLevel == 6) && clientId == 1)
                                                                    {
                                                                        paleYellow = "bgColor-paleYellow";
                                                                    }
                                                                    else if (accessLevel == 6 && clientId != 1)
                                                                    {
                                                                        isReadonly = "readonly";
                                                                        isShowDataValue = false;
                                                                    }

                                                                    if (!isShowDataValue)
                                                                    {
                                                                        inputValue = string.Empty;
                                                                    }
                                                                }

                                                                if (item.FieldTypeID == (byte)FieldTypes.MultiSelectSelectionList || item.FieldTypeID == (byte)FieldTypes.MultiSelectCheckboxes)
                                                                {
                                                                    selectHeight = "custom-multiselect-scroll";
                                                                }

                                                                if (item.FieldTypeID != (byte)FieldTypes.SectionHeader) // Section Header
                                                                {
                                                                    <div class="@colClass @selectHeight">
                                                                        <div class="form-group">
                                                                            <input name="FormFieldsList[@Cnt].ID" type="hidden" value="@item.ID" class="formFieldId" />
                                                                            <input name="FormFieldsList[@Cnt].ID" type="hidden" value="@item.FieldTypeID" class="formFieldTypeId" />
                                                                            @if (item.FieldTypeID != (byte)FieldTypes.SectionHeadingTextOnly && item.FieldTypeID != (byte)FieldTypes.TextOnly) // Heading
                                                                            {
                                                                                <label>@item.FieldName</label>
                                                                            }

                                                                            @if (item.FieldTypeID == (byte)FieldTypes.Number)
                                                                            {
                                                                                <div class="d-flex amount">
                                                                                    <input name="FormFieldsList[@Cnt].ID" type="hidden" value="@item.ID" class="formFieldId" />
                                                                                    @if (linesLength == null)
                                                                                    {
                                                                                        <input data-type="text" data-isrequired="@item.Required" type="text" @isReadonly @maxLength name="@inputName" value="@inputValue" pattern="[0-9]" class="form-control @paleYellow answer amount" @requiredMessage />
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <textarea data-isrequired="@item.Required" data-type="textarea" @isReadonly @maxLength name="@inputName" value="@inputValue" pattern="[0-9]" class="form-control @paleYellow answer" rows="@linesLength" @requiredMessage></textarea>
                                                                                    }
                                                                                    <select data-type="dropdown" @isReadonly name="@inputName" class="form-control currency" data-isrequired="@item.Required" @requiredMessage>
                                                                                        @foreach (var option in Model.CurrencyDropdown)
                                                                                        {
                                                                                            var optionSelected = option.Value == currencyId ? "selected" : "";
                                                                                            <option value="@option.Value" @optionSelected>@option.Text</option>
                                                                                        }
                                                                                    </select>
                                                                                </div>
                                                                            }
                                                                            else if (item.FieldTypeID == (byte)FieldTypes.Date) // date
                                                                            {
                                                                                <input data-type="text" @isReadonly name="@inputName" value="@inputValue" class="form-control jdate-picker @paleYellow answer" data-isrequired="@item.Required" @requiredMessage />
                                                                            }
                                                                            else if (item.FieldTypeID == (byte)FieldTypes.Text)
                                                                            {
                                                                                if (linesLength == null)
                                                                                {
                                                                                    <input data-type="text" @isReadonly name="@inputName" value="@inputValue" type="text" class="form-control @paleYellow answer" @maxLength data-isrequired="@item.Required" @requiredMessage />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <textarea data-type="textarea" @isReadonly name="@inputName" rows="@linesLength" class="form-control @paleYellow answer" @maxLength data-isrequired="@item.Required" @requiredMessage>@inputValue</textarea>
                                                                                }
                                                                            }
                                                                            else if (item.FieldTypeID == (byte)FieldTypes.YesNo)
                                                                            {
                                                                                <div class="answer" data-type="radio" data-name="@inputName" data-isrequired="@item.Required">
                                                                                    <label class="radio-inline">
                                                                                        <input @isReadonly name="@inputName" @(inputValue == "1" ? "checked" : "") class="mr-1" type="radio" value="1" @requiredMessage>Yes
                                                                                    </label>
                                                                                    <label class="radio-inline">
                                                                                        <input @isReadonly name="@inputName" @(inputValue == "0" || inputValue == "" ? "checked" : "") class="mr-1" type="radio" value="0">No
                                                                                    </label>
                                                                                </div>
                                                                            }
                                                                            else if (item.FieldTypeID == (byte)FieldTypes.Telephone) // telephone
                                                                            {
                                                                                <input data-type="text" @isReadonly maxlength="20" name="@inputName" value="@inputValue" type="text" pattern="[A-Za-z0-9]" class="form-control @paleYellow answer" @maxLength data-isrequired="@item.Required" @requiredMessage />
                                                                            }
                                                                            else if (item.FieldTypeID == (byte)FieldTypes.TextOnly) // text only
                                                                            {
                                                                                <label>@item.FieldName</label>
                                                                            }
                                                                            else if (item.FieldTypeID == (byte)FieldTypes.SelectionList)
                                                                            {
                                                                                <select data-type="dropdown" @isReadonly name="@inputName" class="form-control answer" data-isrequired="@item.Required" @requiredMessage>
                                                                                    <option value="">--Select--</option>
                                                                                    @foreach (var option in item.FormSelectionLists.OrderBy(x => x.SeqNo))
                                                                                    {
                                                                                        var optionSelected = option.Code == inputValue ? "selected" : "";
                                                                                        <option value="@option.Code" @optionSelected>@option.TextValue</option>
                                                                                    }
                                                                                </select>
                                                                            }
                                                                            else if (item.FieldTypeID == (byte)FieldTypes.Address)
                                                                            {
                                                                                <input data-type="address" @isReadonly value="@addressData.AddressLine1" type="text" style="margin-bottom:1rem;" class="form-control @paleYellow answer address1" maxlength="300" placeholder="Addredd line 1" data-isrequired="@item.Required" @requiredMessage />
                                                                                <input data-type="address" @isReadonly value="@addressData.AddressLine2" type="text" style="margin-bottom:1rem;" class="form-control @paleYellow  address2" maxlength="80" placeholder="Addredd line 2" />
                                                                                <div class="row">
                                                                                    <div class="col-md-4">
                                                                                        <input data-type="address" @isReadonly value="@addressData.City" type="text" style="margin-bottom:1rem;" class="form-control @paleYellow  city" maxlength="50" placeholder="City" />
                                                                                    </div>
                                                                                    <div class="col-md-4">
                                                                                        <input data-type="address" @isReadonly value="@addressData.State" type="text" style="margin-bottom:1rem;" class="form-control @paleYellow state" maxlength="3" placeholder="State" />
                                                                                    </div>
                                                                                    <div class="col-md-4">
                                                                                        <input data-type="address" @isReadonly value="@addressData.ZipCode" type="text" style="margin-bottom:1rem;" class="form-control @paleYellow zipcode" maxlength="10" placeholder="Zip code" />
                                                                                    </div>
                                                                                </div>
                                                                                <input data-type="address" value="@addressData.Country" type="text" class="form-control @paleYellow country" maxlength="20" placeholder="Country" />
                                                                            }
                                                                            else if (item.FieldTypeID == (byte)FieldTypes.Checkbox)
                                                                            {
                                                                                <input data-type="checkbox" @isReadonly name="@inputName" class="answer" type="checkbox" @(inputValue == "1" ? "checked" : "") @requiredMessage />
                                                                            }
                                                                            else if (item.FieldTypeID == (byte)FieldTypes.Currency) // currency
                                                                            {
                                                                                if (linesLength == null)
                                                                                {
                                                                                    <input data-type="text" @isReadonly name="@inputName" value="@inputValue" type="number" min="0.01" step="0.01" class="form-control @paleYellow answer" data-isrequired="@item.Required" @requiredMessage />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <textarea data-type="textarea" @isReadonly name="@inputName" value="@inputValue" type="number" min="0.01" step="0.01" class="form-control @paleYellow answer" data-isrequired="@item.Required" @requiredMessage></textarea>
                                                                                }
                                                                            }
                                                                            else if (item.FieldTypeID == (byte)FieldTypes.SectionHeadingTextOnly) // Section heading
                                                                            {
                                                                                <h3>@inputValue</h3>
                                                                            }
                                                                            else if (item.FieldTypeID == (byte)FieldTypes.MultiSelectCheckboxes || item.FieldTypeID == (byte)FieldTypes.MultiSelectSelectionList)
                                                                            {
                                                                                @Html.DropDownList(inputName, item.FormSelectionLists.OrderBy(x => x.SeqNo).Select(x => new SelectListItem { Text = x.TextValue, Value = x.Code }), new { @multiple = "multiple", @class = "multiselect answer multi" + Cnt })
                                                                                <script type="text/javascript">
                                                                                    var values = '@inputValue';
                                                                                    if (values.length > 0) {
                                                                                        var valueArray = values.split(',');
                                                                                        $('.multi' + @Cnt).val(valueArray);
                                                                                    }
                                                                                </script>
                                                                            }
                                                                            else
                                                                            {
                                                                                <input data-type="text" @isReadonly name="@inputName" value="@inputValue" type="text" class="form-control @paleYellow answer" @maxLength data-isrequired="@item.Required" @requiredMessage />
                                                                            }

                                                                            @{ Cnt++;}
                                                                            <span class="error-message"></span>
                                                                        </div>
                                                                    </div>
                                                                }
                                                                else
                                                                {

                                                                }

                                                            }

                                                        }

                                                    </div>
                                                }

                                            </div>
                                        </div>
                                    </div>
                                }

                            }

                        }
                        <div class="row">
                            <div class="col-12 pull-right">
                                @if (Model.isEditMode)
                                {
                                    <button type="button" class="btn btn-secondary" onclick="copyPlacement('@Model.Request.FormID','@Model.Request.ID')">Copy</button>
                                    var activeHtml = "Active";
                                    if(Model.Request?.active == 0)
                                    {
                                        activeHtml = "Inactive";
                                    }
                                    <a href="javascript:void(0)" class="btn btn-secondary active-inactive" onclick="activeInactive('@Model.Request.active')">@activeHtml</a>
                                }
                                <button class="btn btn-primary" type="button" id="btnSubmit">Submit</button>
                            </div>
                        </div>
                    </form>
                </div>







                <div class="col-md-7 col-xl-7">
                    <div class="custom-tabs">
                        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active bg-white mr-3" id="summary-tab" data-toggle="pill" href="#summary" role="tab" aria-controls="summary" aria-selected="true">Summary</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link bg-white mr-3" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="false">Notes</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link bg-white mr-3" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">Payments</a>
                            </li>

                            <li class="nav-item" role="presentation">
                                <a class="nav-link bg-white mr-3" id="attached-tab" data-toggle="pill" href="#attached-file" role="tab" aria-controls="attached-file" aria-selected="false">Attached File</a>
                            </li>

                            <li class="nav-item" role="presentation">
                                <a class="nav-link bg-white mr-3" id="counsel-tab" data-toggle="pill" href="#counsel" role="tab" aria-controls="counsel" aria-selected="false">Counsel</a>
                            </li>
                        </ul>
                        <div class="tab-content" id="pills-tabContent">
                            <div class="tab-pane fade show active" id="summary" role="tabpanel" aria-labelledby="summary-tab">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <ul class="update-associate">
                                                    <li>Balance Due:<span>$11,280.82</span></li>
                                                    <li>
                                                        Total Customer Payments/Credits:<span>$0.00</span>
                                                    </li>
                                                    <li>
                                                        Remaining Amount Due:<span>$11,280.82</span>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="text-right">
                                            <button type="submit" class="btn btn-secondary mb-3" data-toggle="modal" data-target="#addnotes">
                                                Add Notes
                                            </button>
                                            <button type="submit" class="btn btn-secondary mb-3">
                                                Send Notes
                                            </button>
                                            <button type="submit" class="btn btn-secondary mb-3">
                                                Hide Notes
                                            </button>
                                            <button type="submit" class="btn btn-secondary mb-3">
                                                Flag Notes
                                            </button>
                                        </div>

                                        <div class="list-of bg-light p-3 mb-3">
                                            <h4 class="mb-4">List of all Request Notes</h4>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label>Balance Due:</label>
                                                        <p class="for-bold">$11,280.82</p>
                                                    </div>
                                                </div>

                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label>Total Customer Payments/Credits:</label>
                                                        <p class="for-bold">$11,280.82</p>
                                                    </div>
                                                </div>

                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label>Remaining Amount Due:</label>
                                                        <p class="for-bold">$11,280.82</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <ul class="attached-file">
                                                <li>
                                                    Click on a Note Date to view the details of the
                                                    Note, make changes to the Note or delete the
                                                    Note.
                                                </li>
                                                <li>
                                                    Send the Notes checked in the list below to the
                                                    Recipient entered in the space below. You may
                                                    also send the checked note(s) to the Requestor
                                                    or other recipient by checking the box(es)
                                                    below. Press the 'Send Notes' button to send the
                                                    Notice.
                                                </li>
                                            </ul>

                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="inputDate">Send to</label>
                                                        <input type="text" class="form-control">
                                                    </div>
                                                </div>

                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label class="d-block">Rhonda Whitmore</label>
                                                        <div class="custom-control custom-checkbox custom-control-inline">
                                                            <input type="checkbox" class="custom-control-input" checked="checked" id="customCheck12">
                                                            <label class="custom-control-label" for="customCheck12"></label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label class="d-block">Jeff Rogers</label>
                                                        <div class="custom-control custom-checkbox custom-control-inline">
                                                            <input type="checkbox" class="custom-control-input" checked="checked" id="customCheck21">
                                                            <label class="custom-control-label" for="customCheck21"></label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table id="" class="table table-striped layout-primary table-bordered document-center-table">
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                        <th></th>
                                                        <th>Note Date</th>
                                                        <th>Follow Up Date</th>
                                                        <th>Author</th>
                                                        <th>Contact Notes</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td>
                                                            No answer received. Preparing default
                                                            judgment.
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="text-right">
                                            <button type="submit" class="btn btn-secondary mb-3" data-toggle="modal" data-target="#addpayments">
                                                Add Payments
                                            </button>
                                            <button type="submit" class="btn btn-secondary mb-3">
                                                Send Payments
                                            </button>
                                        </div>

                                        <div class="list-of bg-light p-3 mb-3">
                                            <h4 class="mb-4">List of all Payments</h4>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label>Balance Due:</label>
                                                        <p class="for-bold">$11,280.82</p>
                                                    </div>
                                                </div>

                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label>Total Customer Payments/Credits:</label>
                                                        <p class="for-bold">$11,280.82</p>
                                                    </div>
                                                </div>

                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label>Remaining Amount Due:</label>
                                                        <p class="for-bold">$11,280.82</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <ul class="attached-file">
                                                <li>
                                                    Click on a Payment Date to view the details of
                                                    the Payment, make changes to the Payment or
                                                    delete the Payment.
                                                </li>
                                                <li>
                                                    Send the Payments checked in the list below to
                                                    the Recipient entered in the space below. You
                                                    may also send the selected payment(s) to the
                                                    Requestor by checking the box below. Press the
                                                    'Send Payments' button to send the Payment
                                                    Notice.
                                                </li>
                                            </ul>

                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="inputDate">Send to</label>
                                                        <input type="text" class="form-control">
                                                    </div>
                                                </div>

                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label class="d-block">Send to Rhonda Whitmore</label>
                                                        <div class="custom-control custom-checkbox custom-control-inline">
                                                            <input type="checkbox" class="custom-control-input" checked="checked" id="customCheck122">
                                                            <label class="custom-control-label" for="customCheck122"></label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table id="" class="table table-striped layout-primary table-bordered document-center-table">
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                        <th></th>
                                                        <th>Payment Date</th>
                                                        <th>Payment Type</th>
                                                        <th>Check Number</th>
                                                        <th>Entered By</th>
                                                        <th>Amount</th>
                                                        <th>Currency</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <a href="" class="anchor-design">Edit</a>
                                                        </td>

                                                        <td>
                                                            <div class="custom-control custom-checkbox custom-control-inline">
                                                                <input type="checkbox" class="custom-control-input" id="customCheck6">
                                                                <label class="custom-control-label" for="customCheck6"></label>
                                                            </div>
                                                        </td>
                                                        <td>8/31/2020</td>
                                                        <td>8/31/2020</td>
                                                        <td>9/9/2020 7:00:00 AM</td>
                                                        <td>Test Admin</td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="attached-file" role="tabpanel" aria-labelledby="attached-tab">
                                <div class="card">
                                    <div class="card-body">
                                        <ul class="attached-file">
                                            <li>Click on 'Remove' to remove a file.</li>
                                            <li>
                                                Be sure to click the 'Submit' button to save
                                                changes to this Service Request form before
                                                attaching files to this Service Request
                                            </li>
                                            <li>
                                                To send a notice to the Requestor and Assigned
                                                Attorney regarding any of the files below, check
                                                the box next to the file and press the 'Submit'
                                                button below.
                                            </li>
                                            <li>To add files, follow the directions below.</li>
                                        </ul>

                                        <div class="row">
                                            <div class="col-md-2">
                                                <div class="form-group">
                                                    <label class="d-block">Send Notice</label>
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" class="custom-control-input" checked="checked" id="customCheck3">
                                                        <label class="custom-control-label" for="customCheck3"></label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label>Document Type</label>
                                                    <select id="inputState" class="form-control">
                                                        <option selected="">Select</option>
                                                        <option>Contingent</option>
                                                        <option>Hourly</option>
                                                        <option>Flat Fee</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label>File Name</label>
                                                    <p class="for-bold">scredit1234567890.pdf</p>
                                                </div>
                                            </div>

                                            <div class="col-md-3">
                                                <label class="invisible d-block">dummy</label>
                                                <button type="submit" class="btn btn-primary document-search-btn">
                                                    Remove
                                                </button>
                                            </div>
                                        </div>

                                        <label class="for-bold">Attach a document to this request</label>
                                        <p>
                                            Attach copies of Purchase Orders, Account
                                            Statements, Unpaid Invoices, Preliminary Notices and
                                            any other pertinent documents by locating the file
                                            from your computer and pressing the "Upload File"
                                            button below. Be sure to save your changes made to
                                            the request information above by pressing the
                                            'Submit' button before attaching files to this
                                            request!
                                        </p>

                                        <div class="row">
                                            <div class="col-md-6">
                                                <label>Upload Document</label>
                                                <div class="custom-file">
                                                    <input type="file" class="custom-file-input" id="customFile">
                                                    <label class="custom-file-label n-custom-file-label" for="customFile">Choose file</label>
                                                </div>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label>Document Type</label>
                                                    <select id="inputState" class="form-control">
                                                        <option selected="">Select</option>
                                                        <option>Contingent</option>
                                                        <option>Hourly</option>
                                                        <option>Flat Fee</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" class="custom-control-input" checked="checked" id="customCheck3">
                                                        <label class="custom-control-label" for="customCheck3">
                                                            To send a notice to the Requestor and
                                                            Assigned Attorney regarding this new file,
                                                            check the box to the right
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-12 text-right">
                                                <button type="submit" class="btn btn-primary document-search-btn">
                                                    Upload File
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="counsel" role="tabpanel" aria-labelledby="counsel-tab">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <button type="submit" class="btn btn-primary w-100" data-toggle="modal" data-target="#updateAssociateInfoModal">
                                                                Update Associate Info
                                                            </button>

                                                            <button type="submit" class="btn btn-primary w-100 mt-3" data-toggle="modal" data-target="#manageInvoiceModal">
                                                                Manage Invoices
                                                            </button>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-8">
                                                        <ul class="update-associate mt-0">
                                                            <li>Total Invoices:<span>$0.00</span></li>
                                                            <li>
                                                                Total Amount Paid:<span>$0.00</span>
                                                            </li>
                                                            <li>Balance Due:<span>$0.00</span></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label> Associate Counsel Name </label>
                                                    <input type="text" class="form-control" placeholder="Intl Code">
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label> Associate Counsel File # </label>
                                                    <input type="text" class="form-control" placeholder="Intl Code">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END: Breadcrumbs-->
        </div>
    </div>
</main>



@section scripts{
    <script>

        $(document).ready(function () {
            GetStatusDescription("#Request_StatusCode");
            $("#Request_StatusCode").change(function () {
                GetStatusDescription($(this).val());
            });

            $(".multiselect").multiselect({
                includeSelectAllOption: true,
                enableFiltering: true,
            });
        });

        $('.jdate-picker').daterangepicker({
            autoUpdateInput: true,
            singleDatePicker: true,
            showDropdowns: true,
            autoUpdateInput: false,
            locale: { format: 'DD/MM/YYYY' },
            minYear: 2000,
            maxYear: parseInt(moment().format('YYYY'), 10)
        });

        $('.jdate-picker').on('apply.daterangepicker', function (ev, picker) {
            $(this).val(picker.startDate.format('MM/DD/YYYY'));
        });

        var validator = $("#placementForm").validate();

        $("#btnSubmit").click(function () {
            var statusCode = $.trim($("#Request_StatusCode").find(":selected").text());
                var completeDate = $.trim($("#Request_CompletionDateString").val());
            if (statusCode == "Complete") {
                    if (completeDate.length == 0) {
                        $(".error-status").html("Please select WFJ File Close Date");
                        scrollUp();
                        return false;
                    }
                }

            if (completeDate.length > 0) {
                if (statusCode != "Complete") {
                        $(".error-status").html("You must choose to Complete status.");
                        scrollUp();
                        return false;
                    }
                }

                var isValid = true;
                var savePlacementsViewModel = {};
                var fieldValue = [];
                savePlacementsViewModel.FormId = parseInt($("#Request_FormID").val());
                savePlacementsViewModel.RequestorId = $("#Request_Requestor").val();
                savePlacementsViewModel.AttorneyId = $("#Request_AssignedAttorney").val();
                savePlacementsViewModel.CollectorId = $("#Request_AssignedCollectorID").val();
                savePlacementsViewModel.StatusId = $("#Request_StatusCode").val();
                savePlacementsViewModel.RequestDate = $.trim($("#Request_RequestDateString").val());
                savePlacementsViewModel.WFJFileCloseDate = $.trim($("#Request_CompletionDateString").val());
                var reqId = parseInt($("#Request_ID").val());
                if (isNaN(reqId)) { reqId = 0; }
                savePlacementsViewModel.RequestId = reqId;
                $(".answer").each(function () {
                    var field = {};
                    field.FieldId = $(this).parent().find(".formFieldId").val();
                    var fieldTypeId = $(this).parent().find(".formFieldTypeId").val();

                    if ($(this).data("type") == '@fieldType.text') {
                        field.FieldValue = $.trim($(this).val());
                    }
                    else if ($(this).data("type") == '@fieldType.textarea') {
                        field.FieldValue = $.trim($(this).val());
                    }
                    else if ($(this).data("type") == '@fieldType.dropdown') {
                        field.FieldValue = $(this).find(":selected").val();
                    }
                    else if ($(this).data("type") == '@fieldType.checbox') {
                        if ($(this).is(":checked")) {
                            field.FieldValue = "true";
                        } else {
                            field.FieldValue = "false";
                        }
                    }
                    else if ($(this).data("type") == '@fieldType.radio') {
                        var name = $(this).data("name");
                        field.FieldValue = $("input:radio[name='" + name + "']:checked").val()
                    }
                    else if ($(this).hasClass("multiselect")) {
                        field.FieldId = $(this).parent().parent().find(".formFieldId").val();
                        if ($(this).val().length > 0) {
                            field.FieldValue = $(this).val().join(",");
                        }
                    }
                    else if ($(this).data("type") == '@fieldType.address') {
                        var address = {};
                        address.Address1 = $.trim($(this).val());
                        address.Address2 = $.trim($(this).parent().find(".address2").val());
                        address.City = $.trim($(this).parent().find(".city").val());
                        address.State = $.trim($(this).parent().find(".state").val());
                        address.Country = $.trim($(this).parent().find(".country").val());
                        address.Zipcode = $.trim($(this).parent().find(".zipcode").val());
                        field.AddressValue = address;
                    }

                    if ($(this).hasClass("amount")) {
                        field.CurrencyId = $(this).parent().find(".currency").find(":selected").val();
                    }

                    if ($(this).data("isrequired") == "1") {
                        var fieldLength = $.trim(field.FieldValue).length;
                        if ($(this).data("type") == '@fieldType.address') {
                            fieldLength = $.trim($(this).val()).length
                        }
                        if (fieldLength == 0) {
                            $(this).parent().find(".error-message").html($(this).data("msg"));
                            isValid = false;
                        } else {
                            $(this).parent().find(".error-message").html("");
                            fieldValue.push(field);
                        }
                    } else {
                        fieldValue.push(field);
                    }
                });
                savePlacementsViewModel.FieldValue = fieldValue;
            //console.log(JSON.stringify(savePlacementsViewModel));
            if (isValid) {
                $.ajax({
                    type: "Post",
                    url: "/Placements/SavePlacement",
                    data: { 'savePlacementsViewModel': savePlacementsViewModel },
                    dataType: "json",
                    success: function (response) {
                        if (response.success) {
                            $("#Request_ID").val(response.requestId);
                            alert("Saved Successfully !!");
                        }
                        else {
                        }
                    },
                    error: function (result) {
                    }
                });
            } else {
                scrollUp();
            }
        });

        function GetStatusDescription(id) {
            $.ajax({
                type: "Get",
                url: "/Placements/GetStatusLongDescription?statusCode=" + id + "&formId=" + $("#Request_FormID").val(),
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                success: function (response) {
                    if (response.success) {
                        $(".status-description").html(response.description);
                    }
                    else {
                        $(".status-description").html("");
                    }
                },
                error: function (result) {
                }
            });
        }

        function scrollUp() {
            $('html, body').animate({
                scrollTop: $("body").offset().top
            }, 3000);
        }

        function activeInactive(code) {
            var code = parseInt(code);
            if (isNaN(code)) { code = 0;}
            $.ajax({
                type: "get",
                url: "/Placements/UpdateActiveRequest?code=" + code + "&requestId=" + $("#Request_ID").val(),
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                success: function (response) {
                    if (response.success) {
                        $(".active-inactive").prop("onclick", null).off("click");
                        if (code == 1) {
                            $(".active-inactive").html("Inactive");
                            $(".active-inactive").attr("onclick", "activeInactive('0')");
                        } else {
                            $(".active-inactive").html("active");
                            $(".active-inactive").attr("onclick", "activeInactive('1')");
                        }
                    }
                },
                error: function (result) {
                }
            });
        }

        function copyPlacement(formId, requestId) {
            requestId = parseInt(requestId);
            if (isNaN(requestId)) { requestId = 0; }

            formId = parseInt(formId);
            if (isNaN(formId)) { formId = 0; }

            if (requestId > 0 && formId > 0) {
                window.location.href = "/Placements/CopyPlacement?formId=" + formId + "&requestId=" + requestId;
            }
        }
    </script>
}


